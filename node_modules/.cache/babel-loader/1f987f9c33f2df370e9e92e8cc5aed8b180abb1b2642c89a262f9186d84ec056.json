{"ast":null,"code":"var _s = $RefreshSig$();\nconst handleSubmit = async e => {\n  _s();\n  e.preventDefault();\n  setIsSubmitting(true);\n  try {\n    // Asegurarnos de pasar los usuarios del contexto\n    const {\n      users,\n      login\n    } = useAuth();\n    const result = await authService.login(formData.username, formData.password, users // Pasamos explícitamente los usuarios\n    );\n    if (result !== null && result !== void 0 && result.success) {\n      const role = login(result.data);\n      navigate(role === 'admin' ? '/dashboard/create-user' : '/dashboard');\n    } else {\n      setMessage({\n        text: (result === null || result === void 0 ? void 0 : result.message) || 'Usuario o contraseña incorrectos',\n        isError: true\n      });\n    }\n  } catch (error) {\n    setMessage({\n      text: 'Error en la conexión',\n      isError: true\n    });\n  }\n  setIsSubmitting(false);\n};\n_s(handleSubmit, \"TrxXKJrJXUwbt+sC5FQXCWEGqqw=\", true);","map":{"version":3,"names":["handleSubmit","e","_s","preventDefault","setIsSubmitting","users","login","useAuth","result","authService","formData","username","password","success","role","data","navigate","setMessage","text","message","isError","error"],"sources":["C:/Users/Didi/login-react/src/components/Login.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setIsSubmitting(true);\r\n  \r\n  try {\r\n    // Asegurarnos de pasar los usuarios del contexto\r\n    const { users, login } = useAuth();\r\n    const result = await authService.login(\r\n      formData.username, \r\n      formData.password,\r\n      users // Pasamos explícitamente los usuarios\r\n    );\r\n    \r\n    if (result?.success) {\r\n      const role = login(result.data);\r\n      navigate(role === 'admin' ? '/dashboard/create-user' : '/dashboard');\r\n    } else {\r\n      setMessage({\r\n        text: result?.message || 'Usuario o contraseña incorrectos',\r\n        isError: true\r\n      });\r\n    }\r\n  } catch (error) {\r\n    setMessage({\r\n      text: 'Error en la conexión',\r\n      isError: true\r\n    });\r\n  }\r\n  \r\n  setIsSubmitting(false);\r\n};"],"mappings":";AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAAAC,EAAA;EAChCD,CAAC,CAACE,cAAc,CAAC,CAAC;EAClBC,eAAe,CAAC,IAAI,CAAC;EAErB,IAAI;IACF;IACA,MAAM;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAGC,OAAO,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAG,MAAMC,WAAW,CAACH,KAAK,CACpCI,QAAQ,CAACC,QAAQ,EACjBD,QAAQ,CAACE,QAAQ,EACjBP,KAAK,CAAC;IACR,CAAC;IAED,IAAIG,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEK,OAAO,EAAE;MACnB,MAAMC,IAAI,GAAGR,KAAK,CAACE,MAAM,CAACO,IAAI,CAAC;MAC/BC,QAAQ,CAACF,IAAI,KAAK,OAAO,GAAG,wBAAwB,GAAG,YAAY,CAAC;IACtE,CAAC,MAAM;MACLG,UAAU,CAAC;QACTC,IAAI,EAAE,CAAAV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEW,OAAO,KAAI,kCAAkC;QAC3DC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdJ,UAAU,CAAC;MACTC,IAAI,EAAE,sBAAsB;MAC5BE,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EAEAhB,eAAe,CAAC,KAAK,CAAC;AACxB,CAAC;AAACF,EAAA,CA9BIF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}